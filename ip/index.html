
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>获取IP地址</title>
	</head>
	<body>
		<h1 id="ip"></h1>
		<h1 id="addr"></h1>
		
		<script>
			var url = 'http://ip-api.com/json/?lang=zh-CN&fields=query,country,city,regionName';
			var httpRequest = new XMLHttpRequest();
			httpRequest.open('GET', url, true);
			httpRequest.send();
			httpRequest.onreadystatechange = function () {
				if (httpRequest.readyState == 4 && httpRequest.status == 200) {
					var obj = JSON.parse(httpRequest.responseText);
					document.getElementById('ip').innerHTML = '网络地址：' + obj.query;
					document.getElementById('addr').innerHTML = '现实地址：' + obj.country + ' ' + obj.regionName + ' ' + obj.city;
				}
			};
		</script>
	</body>
</html>
